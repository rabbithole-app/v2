<rbth-drawer side="right">
  <button id="edit-profile" variant="outline" brnSheetTrigger hlmBtn>
    Upload files
  </button>
  <rbth-drawer-content *brnSheetContent="let ctx">
    <rbth-drawer-header>
      <h2 rbthDrawerTitle>Upload</h2>
    </rbth-drawer-header>
    <div class="flex-1 overflow-y-auto space-y-6">
      <div class="flex gap-2 px-4 pb-2">
        <button hlmBtn (click)="uploadDirectory()">
          <ng-icon hlmIcon size="sm" name="lucideFolderUp" />
          Upload directory
        </button>
        <button hlmBtn variant="secondary" (click)="list()">
          <ng-icon hlmIcon size="sm" name="lucideList" />
          List
        </button>
      </div>
      <!-- @if (parsedError(); as error) { -->
      <!-- <div hlmAlert variant="destructive">
      <ng-icon hlmIcon hlmAlertIcon name="lucideTriangleAlert" />
      <h4 hlmAlertTitle>Unexpected Error</h4>
      <p hlmAlertDesc>Your session has expired. Please log in again.</p>
    </div> -->
      <!-- } -->
      <rbth-file-upload-dropzone
        class="flex flex-col gap-2 w-full px-4"
        (added)="upload($event)"
        [disabled]="dropzoneDisabled()"
      />
      @if (activeItems().length) {
        <h3 rbthDrawerSeparator>Active</h3>
        <shared-upload-drawer-list [items]="activeItems()" />
      }
      @if (completedItems().length) {
        <h3 rbthDrawerSeparator>Completed</h3>
        <shared-upload-drawer-list [items]="completedItems()" />
      }
      @if (failedItems().length) {
        <h3 rbthDrawerSeparator>Failed</h3>
        <shared-upload-drawer-list [items]="failedItems()" />
      }
    </div>
    <!-- <rbth-drawer-footer>
      <button hlmBtn type="submit">Save Changes</button>
    </rbth-drawer-footer> -->
  </rbth-drawer-content>
</rbth-drawer>

