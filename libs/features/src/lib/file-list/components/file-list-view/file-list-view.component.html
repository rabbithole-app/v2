<div class="flex justify-between items-center">
  <h1 class="text-2xl font-semibold">Storage</h1>
  <rbth-feat-file-list-upload-drawer />
</div>
@if (items().length === 0) {
  <div hlmEmpty class="min-h-[400px]">
    <div hlmEmptyHeader>
      <div hlmEmptyMedia variant="icon">
        <ng-icon name="lucideFolderOpen" />
      </div>
    </div>
    <div hlmEmptyTitle>No files or folders</div>
    <div hlmEmptyDescription>
      This directory is empty. Upload files or create folders to get started.
    </div>
  </div>
} @else {
  <rbth-feat-file-list-grid-view
    class="mt-4"
    [hlmContextMenuTrigger]="emptyAreaContextMenu"
    [items]="items()"
    (delete)="_handleDelete($event)"
    (download)="_handleDownload($event)"
    (move)="_handleMove($event)"
    (rename)="_handleRename($event)"
  />
}

<ng-template #emptyAreaContextMenu>
  <hlm-dropdown-menu class="w-52">
    <hlm-dropdown-menu-group>
      <button hlmDropdownMenuItem>
        <ng-icon hlm name="lucideFolderPlus" hlmMenuIcon />
        New folder
      </button>
      <hlm-dropdown-menu-separator />
      <button hlmDropdownMenuItem (click)="fileListService.openFileDialog()">
        <ng-icon hlm name="lucideUpload" hlmMenuIcon />
        Upload files
      </button>
      <button
        hlmDropdownMenuItem
        (click)="fileListService.openDirectoryDialog()"
      >
        <ng-icon hlm name="lucideFolderUp" hlmMenuIcon />
        Upload directory
      </button>
    </hlm-dropdown-menu-group>
  </hlm-dropdown-menu>
</ng-template>
